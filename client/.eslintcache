[{"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\index.js":"1","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\reportWebVitals.js":"2","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\App.js":"3","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Pages\\LoginPage.jsx":"4","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Pages\\SignupPage.jsx":"5","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Pages\\HomePage.jsx":"6","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Components\\Navbar.jsx":"7","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Components\\AddPhotoModal.jsx":"8","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\store\\index.js":"9"},{"size":500,"mtime":1606573512076,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1606573512076,"results":"12","hashOfConfig":"11"},{"size":684,"mtime":1608072668670,"results":"13","hashOfConfig":"11"},{"size":1261,"mtime":1607866487184,"results":"14","hashOfConfig":"11"},{"size":117,"mtime":1607864085111,"results":"15","hashOfConfig":"11"},{"size":4059,"mtime":1608191031236,"results":"16","hashOfConfig":"11"},{"size":8026,"mtime":1608074527848,"results":"17","hashOfConfig":"11"},{"size":1218,"mtime":1608073991653,"results":"18","hashOfConfig":"11"},{"size":1935,"mtime":1608184521838,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"6tqpnc",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\index.js",[],["40","41"],"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\reportWebVitals.js",[],"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\App.js",[],"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Pages\\LoginPage.jsx",[],"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Pages\\SignupPage.jsx",[],"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Pages\\HomePage.jsx",["42"],"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Components\\Navbar.jsx",["43","44","45","46","47","48"],"import React, { useRef, useState } from \"react\";\r\nimport AddPhotoModal from \"./AddPhotoModal\";\r\nimport axios from \"axios\";\r\nimport image from \"../image.svg\";\r\nimport { actions } from \"../store\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction Navbar() {\r\n  const dispatch = useDispatch();\r\n  const dropZoneRef = useRef(null);\r\n  const browseFileRef = useRef(null);\r\n  const [isDragOver, setIsDragOver] = useState(false);\r\n  const [uploadFrom, setUploadFrom] = useState(\"URL\");\r\n  const [file, setFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploaded, setUploaded] = useState(false);\r\n  const [imageUrl, setImageUrl] = useState(null);\r\n  const [showAddPhotoModal, setShowAddPhotoModal] = useState(false);\r\n  const [url, setUrl] = useState(null);\r\n  const [label, setLabel] = useState(null);\r\n\r\n  const preventDefault = (e, isDragOver = null) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (isDragOver === null) return;\r\n\r\n    setIsDragOver(isDragOver);\r\n  };\r\n\r\n  const sendRequest = async (formData) => {\r\n    try {\r\n      console.log(\"Bearer \" + localStorage.getItem(\"token\"));\r\n      const res = await axios.post(\r\n        `/api/photos/${uploadFrom.toLowerCase()}`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/form-data\",\r\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n          },\r\n        }\r\n      );\r\n      return res;\r\n    } catch (error) {\r\n      console.log(error);\r\n      setUploading(false);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleResponse = (resData) => {\r\n    const { success, data, errorCode } = resData;\r\n\r\n    if (!success) {\r\n      console.log(errorCode);\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    dispatch(actions.addPhoto(data));\r\n    setShowAddPhotoModal(false);\r\n    setUploading(false);\r\n  };\r\n\r\n  const resetStates = () => {\r\n    setShowAddPhotoModal(false);\r\n    setUploading(false);\r\n    setFile(null);\r\n    setUrl(null);\r\n    setLabel(null);\r\n  };\r\n\r\n  const addPhoto = async () => {\r\n    setUploading(true);\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"label\", label);\r\n      setUrl(uploadFrom === \"URL\" ? url : null);\r\n      formData.append(\"url\", url);\r\n      setFile(uploadFrom === \"URL\" ? null : file);\r\n      formData.append(\"image\", file);\r\n      const res = await sendRequest(formData);\r\n\r\n      if (res === null) return;\r\n\r\n      handleResponse(res.data);\r\n\r\n      resetStates();\r\n    } catch (error) {\r\n      console.log(error);\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setFile(e.dataTransfer.files[0]);\r\n    setIsDragOver(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          padding: \"10px 0\",\r\n        }}\r\n      >\r\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <img\r\n            src=\"/devchallenges.png\"\r\n            style={{\r\n              width: 30,\r\n              height: 30,\r\n              marginRight: 50,\r\n            }}\r\n          />\r\n          <div style={{ position: \"relative\", color: \"#505050\" }}>\r\n            <span\r\n              className=\"material-icons\"\r\n              style={{ position: \"absolute\", top: 8, left: 15, fontSize: 26 }}\r\n            >\r\n              search\r\n            </span>\r\n            <input\r\n              style={{\r\n                borderRadius: 12,\r\n                width: 300,\r\n                height: 40,\r\n                padding: \"8px 20px 8px 50px\",\r\n                fontSize: 16,\r\n                border: \"1px solid #bdbdbd\",\r\n                boxShadow: \"0px 1px 6px 0px rgba(0, 0, 0, 0.1)\",\r\n                outline: \"none\",\r\n              }}\r\n              placeholder=\"Search by name\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button\r\n            style={{\r\n              height: 40,\r\n              padding: \"0 20px\",\r\n              border: \"none\",\r\n              borderRadius: 12,\r\n              backgroundColor: \"#3DB46D\",\r\n              color: \"white\",\r\n              fontWeight: 700,\r\n              boxShadow: \"0px 1px 6px rgba(0, 0, 0, 0.1)\",\r\n            }}\r\n            onClick={() => setShowAddPhotoModal(true)}\r\n          >\r\n            Add a photo\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <AddPhotoModal\r\n        visible={showAddPhotoModal}\r\n        title=\"Add a new photo\"\r\n        onCancel={() => setShowAddPhotoModal(false)}\r\n        onConfirm={addPhoto}\r\n        uploading={uploading}\r\n      >\r\n        <form className=\"form\">\r\n          <div className=\"form-control\">\r\n            <label>Upload from:</label>\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setUploadFrom(\"URL\");\r\n              }}\r\n              className={`btn-upload-from-url${\r\n                uploadFrom === \"URL\" ? \" selected\" : \"\"\r\n              }`}\r\n            >\r\n              URL\r\n            </button>\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setUploadFrom(\"PC\");\r\n              }}\r\n              className={`btn-upload-from-pc${\r\n                uploadFrom === \"PC\" ? \" selected\" : \"\"\r\n              }`}\r\n            >\r\n              My PC\r\n            </button>\r\n          </div>\r\n          {uploadFrom === \"URL\" && (\r\n            <>\r\n              <div className=\"form-control\">\r\n                <label>Label</label>\r\n                <input\r\n                  name=\"label\"\r\n                  placeholder=\"Suspendisse edit massa\"\r\n                  value={label}\r\n                  onChange={(e) => setLabel(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div className=\"form-control\">\r\n                <label>Url</label>\r\n                <input\r\n                  name=\"label\"\r\n                  placeholder=\"https://asdfasdfasf.com/asfsadfas.png\"\r\n                  value={url}\r\n                  onChange={(e) => setUrl(e.target.value)}\r\n                ></input>\r\n              </div>\r\n            </>\r\n          )}\r\n          {uploadFrom === \"PC\" && (\r\n            <>\r\n              <div className=\"form-control\">\r\n                <label>Label</label>\r\n                <input\r\n                  name=\"label\"\r\n                  placeholder=\"Suspendisse edit massa\"\r\n                  value={label}\r\n                  onChange={(e) => setLabel(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div\r\n                ref={dropZoneRef}\r\n                className={isDragOver ? \"drop-zone is-drag-over\" : \"drop-zone\"}\r\n                onDrag={preventDefault}\r\n                onDragStart={(e) => preventDefault(e, true)}\r\n                onDragEnter={(e) => preventDefault(e, true)}\r\n                onDragOver={(e) => preventDefault(e, true)}\r\n                onDragEnd={(e) => preventDefault(e, false)}\r\n                onDragLeave={(e) => preventDefault(e, false)}\r\n                onDragExit={(e) => preventDefault(e, false)}\r\n                onDrop={handleDrop}\r\n                onClick={() => browseFileRef.current.click()}\r\n              >\r\n                <img src={image} className=\"drop-zone-image\" />\r\n                <p className=\"drop-zone-placeholder\">\r\n                  Drop your image here\r\n                  <br /> or <br />\r\n                  Click here to choose a image\r\n                </p>\r\n              </div>\r\n              <input\r\n                ref={browseFileRef}\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleChange}\r\n              />\r\n            </>\r\n          )}\r\n        </form>\r\n      </AddPhotoModal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\Components\\AddPhotoModal.jsx",[],"D:\\Projects\\Dev Chalenges\\my-unsplash\\client\\src\\store\\index.js",[],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":53,"column":6,"nodeType":"55","endLine":53,"endColumn":8,"suggestions":"56"},{"ruleId":"57","severity":1,"message":"58","line":16,"column":10,"nodeType":"59","messageId":"60","endLine":16,"endColumn":18},{"ruleId":"57","severity":1,"message":"61","line":16,"column":20,"nodeType":"59","messageId":"60","endLine":16,"endColumn":31},{"ruleId":"57","severity":1,"message":"62","line":17,"column":10,"nodeType":"59","messageId":"60","endLine":17,"endColumn":18},{"ruleId":"57","severity":1,"message":"63","line":17,"column":20,"nodeType":"59","messageId":"60","endLine":17,"endColumn":31},{"ruleId":"64","severity":1,"message":"65","line":118,"column":11,"nodeType":"66","endLine":125,"endColumn":13},{"ruleId":"64","severity":1,"message":"65","line":245,"column":17,"nodeType":"66","endLine":245,"endColumn":64},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadPhotos'. Either include it or remove the dependency array.","ArrayExpression",["69"],"no-unused-vars","'uploaded' is assigned a value but never used.","Identifier","unusedVar","'setUploaded' is assigned a value but never used.","'imageUrl' is assigned a value but never used.","'setImageUrl' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"70","fix":"71"},"Update the dependencies array to be: [loadPhotos]",{"range":"72","text":"73"},[1672,1674],"[loadPhotos]"]